<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SummerSlam 2025 Picks</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 700px;
      margin: auto;
      padding: 20px;
      background-color: #f2f2f2;
    }
    h1, h2 {
      text-align: center;
    }
    label, select, input[type="text"] {
      display: block;
      margin: 15px 0 5px;
      width: 100%;
    }
    input, select {
      padding: 8px;
      border-radius: 4px;
      border: 1px solid #ccc;
    }
    button {
      margin-top: 20px;
      padding: 10px 15px;
      background-color: #007bff;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      width: 100%;
    }
    button:hover {
      background-color: #0056b3;
    }
    .prediction-entry {
      background: #fff;
      padding: 10px;
      margin-top: 10px;
      border-radius: 5px;
      border: 1px solid #ccc;
    }
    @media (max-width: 768px) {
      body {
        padding: 10px;
      }
    }
  </style>
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
    import { getFirestore, collection, addDoc, getDocs } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "AIzaSyCL9bYlJy3UD263Bg7i63nKg2hBdWYSS8U",
      authDomain: "summerslam2025-e0367.firebaseapp.com",
      projectId: "summerslam2025-e0367",
      storageBucket: "summerslam2025-e0367.firebasestorage.app",
      messagingSenderId: "415608766355",
      appId: "1:415608766355:web:1062f4141f0d9dc06fb266",
      measurementId: "G-JZGB1RH03E"
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    window.submitForm = async function () {
      const prediction = {
        name: document.getElementById("username").value.trim(),
        world_title: document.getElementById("world_title").value,
        womens_title: document.getElementById("womens_title").value,
        womens_tag: document.getElementById("womens_tag").value,
        orton_tag: document.getElementById("orton_tag").value,
        roman_tag: document.getElementById("roman_tag").value,
        sami_match: document.getElementById("sami_match").value,
        cena_vs_cody: document.getElementById("cena_vs_cody").value,
        womens_world: document.getElementById("womens_world").value,
        intercontinental: document.getElementById("intercontinental").value,
        us_title: document.getElementById("us_title").value,
        tag_tlc: document.getElementById("tag_tlc").value,
        cody_heel_turn: document.getElementById("cody_heel_turn").value,
        timestamp: new Date()
      };

      if (!prediction.name) {
        alert("Please enter your name.");
        return;
      }

      try {
        await addDoc(collection(db, "predictions"), prediction);
        alert("Thank you for your picks, " + prediction.name + "!");
        document.getElementById("predictionForm").reset();
        loadPredictions();
      } catch (e) {
        console.error("Error adding document: ", e);
        alert("Failed to submit. Try again later.");
      }
    };

    async function loadPredictions() {
      const container = document.getElementById("predictionsList");
      container.innerHTML = "<h2>Submitted Predictions</h2>";

      const querySnapshot = await getDocs(collection(db, "predictions"));
      querySnapshot.forEach((doc) => {
        const data = doc.data();
        const div = document.createElement("div");
        div.className = "prediction-entry";
        div.innerHTML = `
          <strong>${data.name}</strong><br/>
          World Title: ${data.world_title}<br/>
          Women's Title: ${data.womens_title}<br/>
          Women's Tag Match: ${data.womens_tag}<br/>
          Orton & Jelly Roll: ${data.orton_tag}<br/>
          Roman & Jey: ${data.roman_tag}<br/>
          Sami vs. Kross: ${data.sami_match}<br/>
          Cena vs. Cody: ${data.cena_vs_cody}<br/>
          Women's World: ${data.womens_world}<br/>
          Intercontinental: ${data.intercontinental}<br/>
          US Title: ${data.us_title}<br/>
          TLC Tag Match: ${data.tag_tlc}<br/>
          Cody Heel Turn: ${data.cody_heel_turn}
        `;
        container.appendChild(div);
      });
    }

    window.addEventListener("DOMContentLoaded", loadPredictions);
  </script>
</head>
<body>
  <h1>SummerSlam 2025 Picks</h1>
  <form id="predictionForm">
    <label for="username">Enter Your Name:</label>
    <input type="text" id="username" required />

    <label for="world_title">Gunther vs. CM Punk:</label>
    <select id="world_title">
      <option>Gunther</option>
      <option>CM Punk</option>
    </select>

    <label for="womens_title">Tiffany Stratton vs. Jade Cargill:</label>
    <select id="womens_title">
      <option>Tiffany Stratton</option>
      <option>Jade Cargill</option>
    </select>

    <label for="womens_tag">Raquel & Roxanne vs. Charlotte & Alexa:</label>
    <select id="womens_tag">
      <option>Raquel & Roxanne</option>
      <option>Charlotte & Alexa</option>
    </select>

    <label for="orton_tag">Orton & Jelly Roll vs. Drew & Logan:</label>
    <select id="orton_tag">
      <option>Orton & Jelly Roll</option>
      <option>Drew & Logan</option>
    </select>

    <label for="roman_tag">Roman & Jey vs. Bron & Bronson:</label>
    <select id="roman_tag">
      <option>Roman & Jey</option>
      <option>Bron & Bronson</option>
    </select>

    <label for="sami_match">Sami Zayn vs. Karrion Kross:</label>
    <select id="sami_match">
      <option>Sami Zayn</option>
      <option>Karrion Kross</option>
    </select>

    <label for="cena_vs_cody">John Cena vs. Cody Rhodes:</label>
    <select id="cena_vs_cody">
      <option>John Cena</option>
      <option>Cody Rhodes</option>
    </select>

    <label for="womens_world">Naomi vs. Rhea Ripley vs. Iyo Sky:</label>
    <select id="womens_world">
      <option>Naomi</option>
      <option>Rhea Ripley</option>
      <option>Iyo Sky</option>
    </select>

    <label for="intercontinental">AJ Styles vs. Dominik Mysterio:</label>
    <select id="intercontinental">
      <option>AJ Styles</option>
      <option>Dominik Mysterio</option>
    </select>

    <label for="us_title">Solo Sikoa vs. Jacob Fatu:</label>
    <select id="us_title">
      <option>Solo Sikoa</option>
      <option>Jacob Fatu</option>
    </select>

    <label for="tag_tlc">TLC Tag Team Match Winner:</label>
    <select id="tag_tlc">
      <option>The Wyatt Sicks</option>
      <option>Andrade & Rey FÃ©nix</option>
      <option>Street Profits</option>
      <option>DIY</option>
      <option>Motor City Machine Guns</option>
      <option>Fraxiom</option>
    </select>

    <label for="cody_heel_turn">Will Cody turn heel?</label>
    <select id="cody_heel_turn">
      <option>Yes</option>
      <option>No</option>
    </select>

    <button type="button" onclick="submitForm()">Submit Picks</button>
  </form>

  <div id="predictionsList"></div>
</body>
</html>
